services:
  - type: web
    name: interview-showcase-api
    runtime: docker
    dockerfilePath: ./src/backend/InterviewShowcase.Api/Dockerfile
    healthCheckPath: /health
    autoDeploy: true
    envVars:
      - key: ConnectionStrings__DefaultConnection
        fromDatabase:
          name: interview-showcase-db
          property: connectionString
      - key: Jwt__Issuer
        value: InterviewShowcase.Api
      - key: Jwt__Audience
        value: InterviewShowcase.Web
      - key: Jwt__Key
        generateValue: true
      - key: Jwt__ExpirationMinutes
        value: "120"
      - key: CORS_ALLOWED_ORIGINS
        value: https://your-vercel-domain.vercel.app

databases:
  - name: interview-showcase-db
    databaseName: showcase
    user: showcase
